{% extends "base.html"%}
{% block content %}

    <h3 class="text-center">Edit Book</h3>
    <div class="card">
        <div class="card-body">
          <form method="POST" action="{{ url_for('edit_book', book_id=book._id) }}">
            <!-- categorgy-->
            <label for="category_name">Category</label>
            <select class="custom-select validate" id="category_name" name="category_name" aria-label="Default select example" required>
              <option value="" disabled >Choose Category</option>
              {% for category in categories %}
                {% if category.category_name == book.category_name %}
                  <option value="{{ category.category_name }}" selected>{{ category.category_name }}</option>
                {% else %}
                  <option value="{{ category.category_name }}">{{ category.category_name }}</option> 
                {% endif %}
              {% endfor %}
            </select><br>
            <!-- book image url-->
            <div class="mb-3">
              <i class=""></i>
              <label for="book_url" class="form-label">Url for book cover image</label>
              <input type="url" value="{{ book.book_url }}" class="form-control" id="book_url" name="book_url" required>
            </div>
            <!-- book title-->
            <div class="mb-3">
              <i class=""></i>
              <label for="book_name" class="form-label">Title</label>
              <input type="text" value="{{ book.book_name }}" class="form-control" id="book_name" name="book_name" required>
            </div>
            <!-- book author-->
            <div class="mb-3">
              <i class=""></i>
              <label for="book_author" class="form-label">Author</label>
              <input type="text" value="{{ book.book_author }}" class="form-control" id="book_author" name="book_author" required>
            </div>
            <!-- book length -->
            <div class="mb-3">
                <i class=""></i>
                <label for="book_length" class="form-label">Book Length</label>
                <input type="number" value="{{ book.book_length }}" class="form-control" id="book_length" name="book_length" required>
            </div>              
            <!-- description -->
            <div class="mb-3">
                <i class=""></i>
                <label for="book_description" class="form-label">Book Description</label>
                <textarea class="form-control" name="book_description" id="book_description" rows="5" required>
                  {{- book.book_description -}}
                </textarea>
            </div>
            <!-- review -->
            <div class="mb-3">
              <i class=""></i>
              <label for="book_review" class="form-label">Book Review</label>
              <textarea class="form-control" name="book_review" id="book_review" rows="5" required>
                {{- book.book_review -}}
              </textarea>
            </div>
            <!-- book rating -->
            <div class="mb-3">
              <i class=""></i>
              <label for="book_rate" class="form-label">Rate the book!</label>
              <input type="range" value="{{ book.book_rate }}" class="form-range" name="book_rate" id="book_rate">
            </div>
            <!-- cancel button-->
            <a href="{{ url_for('get_books') }}" class="btn btn-primary">
              Cancel <i class="fas fa-times-circle right"></i>
            </a>
            <!-- submit button-->
            <button type="submit" class="btn btn-primary">Edit Book
              <i class="fas fa-sign-in-alt"></i>
            </button>
          </form>
        </div>
      </div>



{% endblock %}